import{j as e}from"./radix-ui-core-CVbt7vjv.js";import{N,y as v,O as w,Q as k,p as M,R,h as C,V as L,Y as V,f as F,_ as P,$ as S,e as T,k as $,t as B}from"./other-ui-8Y7Mtx8D.js";import{m as a,u as q}from"./index-B7e89noG.js";import{u as E}from"./useProjects-D2RlA-qf.js";import{u as O}from"./useBlog-10QfAAQe.js";import{u as _}from"./useContact-DqvQFIWc.js";import{u as D}from"./useStore-meJn6iHo.js";import{c as d,h as I}from"./react-vendor-CF8XAmli.js";import"./supabase-vendor-D5o4eRXO.js";import"./motion-vendor-gX53-bda.js";import"./store-CYSJOfOf.js";function A({endValue:t,duration:m=2e3,className:l=""}){const[x,i]=d.useState(0),o=d.useRef(0),c=d.useRef(null),n=d.useRef(null);return d.useEffect(()=>{o.current=x,c.current=null;const u=g=>{c.current||(c.current=g);const j=g-c.current,h=Math.min(j/m,1),p=1-Math.pow(1-h,4),b=Math.floor(o.current+(t-o.current)*p);i(b),h<1?n.current=requestAnimationFrame(u):i(t)};return n.current=requestAnimationFrame(u),()=>{n.current!==null&&cancelAnimationFrame(n.current)}},[t,m]),e.jsx(a.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:l,children:x.toLocaleString()})}function ee(){const t=I(),{logout:m}=q(),{projects:l,loading:x}=E({autoFetch:!0}),{posts:i,loading:o}=O({status:void 0,autoFetch:!0}),{products:c}=D({autoFetch:!0}),{messages:n,loading:u}=_({autoFetch:!0}),g=()=>{m(),t("/login"),B.success("Berhasil logout")},j=[{icon:N,label:"Total Projects",value:l.length,change:`${l.filter(s=>s.status==="completed").length} completed`,color:"text-primary bg-primary/10",link:"/admin/projects"},{icon:v,label:"Blog Posts",value:i.filter(s=>s.status==="published").length,change:`${i.filter(s=>s.status==="draft").length} draft`,color:"text-secondary bg-secondary/10",link:"/admin/blog"},{icon:w,label:"New Messages",value:n.filter(s=>s.status==="new").length,change:`${n.length} total`,color:"text-accent bg-accent/10",link:"/admin/messages"},{icon:k,label:"Total Products",value:c.length,change:`${c.filter(s=>s.stock>0).length} in stock`,color:"text-green-600 bg-green-600/10",link:"/admin/store"},{icon:M,label:"Total Views",value:l.reduce((s,r)=>s+(r.views||0),0)+i.reduce((s,r)=>s+(r.views||0),0),change:"All time",color:"text-blue-600 bg-blue-600/10",link:"#"}],h=[{icon:N,title:"Manage Projects",description:"View, add, edit, or delete projects",color:"bg-primary/10 hover:bg-primary/20 text-primary",link:"/admin/projects"},{icon:v,title:"Manage Blog",description:"Write and publish articles",color:"bg-secondary/10 hover:bg-secondary/20 text-secondary",link:"/admin/blog"},{icon:w,title:"View Messages",description:"Check and respond to messages",color:"bg-accent/10 hover:bg-accent/20 text-accent",link:"/admin/messages"},{icon:k,title:"Manage Store",description:"Manage products and stock",color:"bg-green-600/10 hover:bg-green-600/20 text-green-600",link:"/admin/store"},{icon:S,title:"Settings",description:"Configure website settings",color:"bg-blue-600/10 hover:bg-blue-600/20 text-blue-600",link:"/admin/settings"}],p=l.slice(0,5),b=i.slice(0,5),f=n.slice(0,5);return e.jsx("div",{className:"min-h-screen bg-muted/30 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6 lg:p-8",children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Selamat datang! Kelola konten website Lapak Android"})]}),e.jsxs("button",{onClick:g,className:"px-4 py-2 bg-red-50 dark:bg-red-950/20 text-red-600 rounded-xl hover:bg-red-100 dark:hover:bg-red-950/30 transition-colors flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:j.map((s,r)=>{const y=s.icon;return e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},onClick:()=>s.link!=="#"&&t(s.link),className:`bg-card rounded-2xl p-6 border border-border hover:shadow-lg transition-all ${s.link!=="#"?"cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${s.color}`,children:e.jsx(y,{className:"h-6 w-6"})}),s.link!=="#"&&e.jsx(C,{className:"h-5 w-5 text-muted-foreground"})]}),e.jsx("h3",{className:"text-3xl mb-1",children:s.value}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.change})]},s.label)})}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-2xl p-6 border border-border mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:e.jsx(L,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Live Real-Time Metrics"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Views counter dengan animasi increment otomatis"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl border border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(V,{className:"h-6 w-6 text-primary"}),e.jsx("h4",{children:"Total Blog Views"})]}),e.jsx(A,{endValue:i.reduce((s,r)=>s+(r.views||0),0),duration:3e3,className:"text-4xl text-primary"})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-secondary/10 to-secondary/5 rounded-xl border border-secondary/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(F,{className:"h-6 w-6 text-secondary"}),e.jsx("h4",{children:"Portfolio Views"})]}),e.jsx(A,{endValue:l.reduce((s,r)=>s+(r.views||0),0),duration:3e3,className:"text-4xl text-secondary"})]})]})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:e.jsx(P,{className:"h-5 w-5 text-accent"})}),e.jsx("h3",{children:"Quick Actions"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map((s,r)=>{const y=s.icon;return e.jsxs(a.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5+r*.1},onClick:()=>t(s.link),className:`p-6 ${s.color} rounded-xl transition-all text-left group`,children:[e.jsx(y,{className:"h-6 w-6 mb-3"}),e.jsx("p",{className:"font-medium mb-1",children:s.title}),e.jsx("p",{className:"text-xs opacity-80",children:s.description}),e.jsx(C,{className:"h-4 w-4 mt-3 group-hover:translate-x-1 transition-transform"})]},s.title)})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-card rounded-2xl p-6 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{children:"Recent Projects"}),e.jsx("button",{onClick:()=>t("/admin/projects"),className:"text-sm text-primary hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:x?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):p.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No projects yet"}):p.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer",onClick:()=>t("/admin/projects"),children:[s.image_url?e.jsx("img",{src:s.image_url,alt:s.title,className:"w-10 h-10 rounded object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded flex items-center justify-center",children:e.jsx(N,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm truncate",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.brand})]})]},s.id))})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-card rounded-2xl p-6 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{children:"Recent Articles"}),e.jsx("button",{onClick:()=>t("/admin/blog"),className:"text-sm text-primary hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:o?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):b.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No articles yet"}):b.map(s=>e.jsx("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer",onClick:()=>t("/admin/blog"),children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm truncate",children:s.title}),s.status==="published"?e.jsx(T,{className:"h-3 w-3 text-green-600 flex-shrink-0"}):e.jsx($,{className:"h-3 w-3 text-amber-600 flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.category})]})},s.id))})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-card rounded-2xl p-6 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{children:"Recent Messages"}),e.jsx("button",{onClick:()=>t("/admin/messages"),className:"text-sm text-primary hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:u?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):f.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages yet"}):f.map(s=>e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer",onClick:()=>t("/admin/messages"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),s.status==="new"&&e.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded",children:"New"})]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.message})]},s.id))})]})]})]})})}export{ee as DashboardOverview};
