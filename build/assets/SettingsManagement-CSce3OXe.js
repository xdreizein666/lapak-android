import{j as e}from"./radix-ui-core-CVbt7vjv.js";import{c as g,R as P,h as R}from"./react-vendor-CF8XAmli.js";import{Z as _,c as A,W as E,ao as G,ap as I,a0 as B,aq as M,ar as W,ae as v,$ as w,as as k,at as D,t as y}from"./other-ui-8Y7Mtx8D.js";import{u as L}from"./useSettings-DqxgCa23.js";import{I as C}from"./ImageUploader-D3ZS0H5I.js";import{m}from"./index-SAJX4igD.js";import"./supabase-vendor-D5o4eRXO.js";import"./motion-vendor-gX53-bda.js";const S=[{value:"Zap",label:"Zap (Lightning)",icon:_},{value:"Shield",label:"Shield (Security)",icon:A},{value:"Wrench",label:"Wrench (Tools)",icon:E}],U=[{value:"from-green-500 to-emerald-600",label:"Green",preview:"bg-gradient-to-r from-green-500 to-emerald-600"},{value:"from-blue-500 to-cyan-600",label:"Blue",preview:"bg-gradient-to-r from-blue-500 to-cyan-600"},{value:"from-amber-500 to-orange-600",label:"Orange",preview:"bg-gradient-to-r from-amber-500 to-orange-600"},{value:"from-purple-500 to-pink-600",label:"Purple",preview:"bg-gradient-to-r from-purple-500 to-pink-600"},{value:"from-red-500 to-rose-600",label:"Red",preview:"bg-gradient-to-r from-red-500 to-rose-600"}];function J({slideNumber:i,settings:t,onChange:o}){const[c,h]=g.useState(i===1),s=`hero_slide${i}`,d=t[`${s}_title`]||"",u=t[`${s}_subtitle`]||"",x=t[`${s}_image`]||"",l=t[`${s}_icon`]||"Zap",b=t[`${s}_color`]||"from-green-500 to-emerald-600";return e.jsxs("div",{className:"border border-border rounded-xl overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>h(!c),className:"w-full px-6 py-4 bg-muted/50 hover:bg-muted transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${b}`,children:P.createElement(S.find(r=>r.value===l)?.icon||_,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h4",{className:"font-semibold",children:["Slide ",i]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d||`Slide ${i} - Belum diisi`})]})]}),c?e.jsx(G,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(I,{className:"h-5 w-5 text-muted-foreground"})]}),c&&e.jsxs("div",{className:"p-6 space-y-5 bg-card",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Judul Slide"}),e.jsx("input",{type:"text",value:d,onChange:r=>o(`${s}_title`,r.target.value),placeholder:"Contoh: Ahli Root & Custom ROM Android",className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Subtitle"}),e.jsx("textarea",{value:u,onChange:r=>o(`${s}_subtitle`,r.target.value),placeholder:"Deskripsi singkat untuk slide ini...",rows:3,className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),e.jsx("div",{children:e.jsx(C,{value:x,onChange:r=>o(`${s}_image`,r),label:"Gambar Background",description:"Upload gambar atau masukkan URL. Maksimal 5MB. Rekomendasi: 1920x1080px"})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Icon"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:S.map(r=>{const a=r.icon;return e.jsxs("button",{type:"button",onClick:()=>o(`${s}_icon`,r.value),className:`p-4 border-2 rounded-xl transition-all ${l===r.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[e.jsx(a,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-center",children:r.label})]},r.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Warna Icon"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:U.map(r=>e.jsx("button",{type:"button",onClick:()=>o(`${s}_color`,r.value),className:`relative h-12 rounded-xl transition-all ${r.preview} ${b===r.value?"ring-2 ring-offset-2 ring-primary":"hover:ring-2 hover:ring-offset-2 hover:ring-primary/50"}`,title:r.label},r.value))})]})]})]})}function F(){const i=R(),{settings:t,loading:o,updateSetting:c,refetch:h}=L(),[s,d]=g.useState({}),[u,x]=g.useState(!1);g.useEffect(()=>{if(t.length>0){const a={};t.forEach(n=>{a[n.key]=n.value}),d(a)}},[t]);const l=(a,n)=>{d(f=>({...f,[a]:n}))},b=()=>{if(confirm("Reset perubahan yang belum disimpan?")){const a={};t.forEach(n=>{a[n.key]=n.value}),d(a),y.success("Perubahan direset")}},r=async a=>{a.preventDefault(),x(!0);try{const n=[],f=Object.keys(s).map(async p=>{const N=t.find($=>$.key===p)?.value||"",j=s[p];return N!==j?(n.push({key:p,oldValue:N,newValue:j}),c(p,j)):Promise.resolve()});await Promise.all(f),y.success(`Pengaturan berhasil disimpan (${n.length} perubahan)`),h()}catch(n){y.error("Gagal menyimpan pengaturan"),console.error("Save error:",n)}finally{x(!1)}};return o&&t.length===0?e.jsx("div",{className:"min-h-screen bg-muted/30 pt-20 flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}):e.jsx("div",{className:"min-h-screen bg-muted/30 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6 lg:p-8",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>i("/admin"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[e.jsx(B,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to Dashboard"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2",children:"Homepage Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Konfigurasi informasi dan konten homepage"})]}),e.jsxs("button",{onClick:b,className:"px-4 py-2 bg-muted hover:bg-muted/80 rounded-xl transition-all flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Reset"]})]})]}),e.jsxs("form",{onSubmit:r,className:"space-y-8",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-2xl border border-border p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(W,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{children:"About Section"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Konten untuk halaman Tentang Kami"})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Judul About"})]}),e.jsx("input",{type:"text",value:s.about_title||"",onChange:a=>l("about_title",a.target.value),placeholder:"Judul About Section",className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Deskripsi Paragraf 1"})]}),e.jsx("textarea",{value:s.about_description_1||"",onChange:a=>l("about_description_1",a.target.value),placeholder:"Paragraf pertama...",rows:4,className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Deskripsi Paragraf 2"})]}),e.jsx("textarea",{value:s.about_description_2||"",onChange:a=>l("about_description_2",a.target.value),placeholder:"Paragraf kedua...",rows:4,className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),e.jsx("div",{children:e.jsx(C,{value:s.about_image_url||"",onChange:a=>l("about_image_url",a),label:"Gambar About Section",description:"Upload gambar atau masukkan URL. Maksimal 5MB. Format: JPG, PNG, WebP"})})]})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card rounded-2xl border border-border p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:e.jsx(w,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("h3",{children:"Hero Section (Carousel)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Atur konten carousel di halaman utama (3 slides)"})]})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>e.jsx(J,{slideNumber:a,settings:s,onChange:l},a))})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{children:"General Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pengaturan umum website"})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Judul Website"})]}),e.jsx("input",{type:"text",value:s.site_title||"",onChange:a=>l("site_title",a.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",children:[e.jsx(w,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Tagline"})]}),e.jsx("input",{type:"text",value:s.site_tagline||"",onChange:a=>l("site_tagline",a.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex gap-4 sticky bottom-6 z-10",children:e.jsxs("div",{className:"flex-1 bg-background/80 backdrop-blur-md p-4 rounded-2xl border border-border shadow-lg flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>i("/admin"),className:"flex-1 px-6 py-3 bg-muted hover:bg-muted/80 rounded-xl transition-colors",children:"Batal"}),e.jsxs("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl",children:[e.jsx(D,{className:"h-5 w-5"}),u?"Menyimpan...":"Simpan Perubahan"]})]})})]})]})})}export{F as SettingsManagement};
