import{c}from"./react-vendor-CF8XAmli.js";import{s as n}from"./store-CtWTswGK.js";import{i as P}from"./index-SAJX4igD.js";const y=[{id:"1",name:"Samsung Galaxy S21 Ultra 5G",description:"Flagship Samsung dengan kamera 108MP dan layar 120Hz.",price:85e5,discount_price:82e5,images:["https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=800"],category:"Samsung",condition:"Like New",stock:5,stock_status:"available",is_rooted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),location:"Jakarta",sold_count:12,rating:4.8},{id:"2",name:"Google Pixel 6 Pro",description:"Pengalaman Android murni dengan kamera terbaik.",price:68e5,images:["https://images.unsplash.com/photo-1635870723802-e88d76ae324e?w=800"],category:"Google",condition:"Excellent",stock:3,stock_status:"low_stock",is_rooted:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),location:"Bandung",sold_count:8,rating:4.9}];function G(m={}){const[h,o]=c.useState([]),[f,s]=c.useState(!0),[w,r]=c.useState(null),{category:i,condition:d,limit:u,autoFetch:l=!0}=m,g=async()=>{try{s(!0),r(null);const t=await n.getAll({category:i,condition:d,limit:u});o(t)}catch(t){r(t),console.error("Error fetching products:",t),o(y)}finally{s(!1)}};return c.useEffect(()=>{l&&g()},[i,d,u,l]),{products:h,loading:f,error:w,refetch:g,createProduct:async t=>{try{const e=await n.create(t);return o(a=>[e,...a]),e}catch(e){throw r(e),e}},updateProduct:async(t,e)=>{try{const a=await n.update(t,e);return o(S=>S.map(p=>p.id===t?a:p)),a}catch(a){throw r(a),a}},deleteProduct:async t=>{try{await n.delete(t),o(e=>e.filter(a=>a.id!==t))}catch(e){throw r(e),e}}}}export{G as u};
